<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <title>AquaJMT | Monitoring </title>
    <!--/*/ <th:block th:include="fragments/headerinc :: head"></th:block> /*/-->
</head>
<body onload="showDateTime()">
<div class="container-fluid">
    <div class="row">
        <div class="">
            <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
        </div>
    </div>
</div>


<div class="container-fluid">
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Monitoring</h1>
            </div>
            <div class="row">
                <form class="col-md-6" th:object="${student}" th:action="@{/monitorStudent}" th:method="POST">
                    Please tap the rfid: <input id="rfidTag" th:field="*{rfid}" class="form-control" th:autofocus="true" hidden="true" style="border-color: transparent; color: transparent"/>

                    <input type="submit" id="submit"/>
                </form>
            </div>
        </div>

        <div class="panel-body">
            <div class="form-group">
                <label>First Name: </label>
                <label th:text="${stud.firstName}"></label>
            </div>
            <div class="form-group">
                <label>Last Name: </label>
                <label th:text="${stud.lastName}"></label>
            </div>
            <div class="form-group">
                <label>Middle Name: </label>
                <label th:text="${stud.middleName}"></label>
            </div>
            <div class="form-group">
                <label>Time <span th:text="${tapType}"></span></label>
                <label id="timeIn"></label>
            </div>
             <!--/.panel-body-->
        </div>

        <div class="panel-body">
            <div class="form-group">
                <label>First Name: </label>
                <label th:text="${stud.firstName}"></label>
            </div>
            <div class="form-group">
                <label>Last Name: </label>
                <label th:text="${stud.lastName}"></label>
            </div>
            <div class="form-group">
                <label>Middle Name: </label>
                <label th:text="${stud.middleName}"></label>
            </div>
            <div class="form-group">
                <label>Time <span th:text="${tapType}"></span></label>
                <label id="timeIn"></label>
            </div>
            <!--/.panel-body-->
        </div>


        <!-- /.col-lg-12 -->
    </div>
</div>
<script th:inline="javascript">
    /*<![CDATA[*/

    $('#img').hide();
    $('#timeIn').hide();
    $('#submit').hide();
    $("#rfidTag").keyup(function () {
        if (this.value.length == 10)
            $('#submit').click();


    });
    showDateTime();
    function showDateTime(){
            $('#timeIn').show();

        var d = new Date(),
            minutes = d.getMinutes().toString().length == 1 ? '0'+d.getMinutes() : d.getMinutes(),
            seconds = d.getSeconds().toString(),
            hours = d.getHours().toString().length == 1 ? '0'+d.getHours() : d.getHours(),
            ampm = d.getHours() >= 12 ? 'pm' : 'am',
            months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
            days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
            minutes = checkTime(minutes);
            seconds = checkTime(seconds);
        document.getElementById('timeIn').innerHTML = days[d.getDay()]+' '+months[d.getMonth()]+' '+d.getDate()+' '+d.getFullYear()+' '+hours+':'+minutes+':'+seconds+ampm;
        var t = setTimeout(showDateTime, 500);
    }
    function checkTime(i) {
        if (i > 10) {i = "0" + i}  // add zero in front of numbers < 10
        return i;
    }

    /*]]>*/

</script>
</body>
</html>
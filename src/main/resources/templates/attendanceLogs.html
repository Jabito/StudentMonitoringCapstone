<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <title>St. Mark's | Homepage</title>
    <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
    <!--/*/ <th:block th:include="fragments/headerinc :: head"></th:block> /*/-->
</head>
<body>

<div id="wrapper">
    <div class="container-fluid" style="background-color: #122b40;">
        <div class="row" style="  background-color: #122b40;">
            <div class="">
                <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
            </div>
        </div>
    </div>

    <!-- ETO SIMULA NG PAGE -->

    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header"> Attendance Logs </h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>

        <!-- /.row -->

        <div class="row">
            Search Student ID: <input type="text" id="studId"/>
            <button type="button" id="btnSearch">Search</button>
        </div>


        <table width="100%" class="table table-striped table-bordered table-hover"
               id="dataTables-example">
            <thead>
            <tr>
                <th>Log IN/OUT</th>
                <th>DateTime</th>
                <th>FirstName</th>
                <th>LastName</th>
                <!--<th>Cost per Bottle</th>
                <th>No. of Slim</th>
                <th>Cost per Bottle</th>
                <th>Total Cost</th>-->
            </tr>
            </thead>
            <tbody id="tableBody">
            <!--<tr class="odd gradeX">-->
                <!--<td th:text="${attendance.logType}"></td>-->
                <!--<td th:text="${attendance.logDateTime}"></td>-->
            <!--</tr>-->
            </tbody>
        </table>


        <!-- /.row -->
    </div>
    <!-- /#page-wrapper -->

</div>
<script type="text/javascript">
    // Initialize Firebase

    //Declaring variables

    var studId;

    $("#btnSearch").on("click", function () {
        console.log("Clicked");
        studId = $("#studId").val();
        $.ajax({
            type: 'GET',
            contentType: 'application/json; charset=utf-8',
            url: '/getAttendanceLogsDetails',
            data: {studId: studId},
            success: function(response){
                $('#tableBody').empty();
                console.log(response);
                $.each(response, function(key,value){
                    console.log(value);
                    $('#tableBody').append('<tr class="odd gradeX"><td>' + value.logType + '</td>' +
                        '<td>' + value.logDateTime + '</td>' +
                        '<td>' + value.firstName + '</td>' +
                        '<td>' + value.lastName + '</td></tr>')
                })
            },
            error: function(response){
                console.log("Error.")
            }
        });
    });


    //

</script>


</body>
</html>